(this["webpackJsonpless-than"]=this["webpackJsonpless-than"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(7),s=n.n(a),r=(n(13),n(8)),i=n(2),o=n.n(i),u=n(4),l=n(3),h=(n(15),n(16),n(0));var j=function(e){var t=e.populateGameItem,n=Object(c.useState)([]),a=Object(l.a)(n,2),s=a[0],r=a[1],i=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#searchInput"),e.next=3,fetch("https://www.cheapshark.com/api/1.0/games?title=".concat(t.value));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,r(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"search",children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(s),document.querySelector("#searchInput").value=""},children:[Object(h.jsx)("input",{type:"search",name:"",id:"searchInput",placeholder:"Title ..."}),Object(h.jsx)("button",{type:"submit",children:" Find it! "})]}),Object(h.jsx)("ul",{className:"gameList",children:t(s)})]})};var p=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(l.a)(s,2),p=i[0],m=i[1],d=Object(c.useState)(!1),b=Object(l.a)(d,2),f=b[0],x=b[1],O=Object(c.useState)(0),v=Object(l.a)(O,2),w=v[0],g=v[1];Object(c.useEffect)((function(){N(),y(),g(1)}),[]);var N=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.cheapshark.com/api/1.0/deals?&sortBy=deal+rating&onSale=1&upperPrice=3&metacritic=60&onSale=1&pageNumber=".concat(w));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n.filter((function(e,t,n){return n.findIndex((function(t){return t.title===e.title}))===t})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.cheapshark.com/api/1.0/stores");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,m(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t,n=Object(r.a)(p);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(e===c.storeID)return c.images.icon}}catch(a){n.e(a)}finally{n.f()}},I=function(e){return e.map((function(e,t){return Object(h.jsxs)("li",{className:"gameList__item",children:[Object(h.jsxs)("div",{className:"gameList__item--naming",children:[Object(h.jsx)("h3",{children:(n=e.title||e.external,n.length<=18?n:n.substring(0,13)+"...")}),Object(h.jsx)("img",{src:e.thumb,alt:e.title||e.external})]}),Object(h.jsx)("div",{className:"gameList__item--anim",children:Object(h.jsx)("div",{className:"shape",children:Object(h.jsx)("img",{src:"https://www.cheapshark.com/".concat(k(e.storeID)||"/img/stores/icons/26.png"),alt:e.title||e.external})})}),Object(h.jsxs)("div",{className:"gameList__item--info",children:[Object(h.jsx)("p",{className:"ex--price",children:e.normalPrice||"tot"}),Object(h.jsx)("p",{className:"actual--price",children:e.salePrice||e.cheapest}),Object(h.jsx)("a",{href:"https://www.cheapshark.com/redirect?dealID=".concat(e.dealID||e.cheapestDealID),children:"buy it!"})]})]},t);var n}))};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("h3",{children:"Less Than"}),Object(h.jsx)("h2",{children:"3"})]}),Object(h.jsx)("button",{className:"searchExpanderBtn",onClick:function(){var e=document.querySelector(".searchExpanderBtn");"\ud83c\udfe0"===e.textContent?e.textContent="\ud83d\udd0d":e.textContent="\ud83c\udfe0",x(!f)},children:"\ud83d\udd0d"}),f?Object(h.jsx)(j,{populateGameItem:I}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"navButtonLeft",onClick:function(){window.scrollTo(0,document.body.offsetHeight),g(w-1),N()},children:"\ud83d\udc48"}),Object(h.jsx)("ul",{className:"gameList",children:n?I(n):null}),Object(h.jsx)("button",{className:"navButtonRight",onClick:function(){window.scrollTo(0,0),g(w+1),N()},children:"\ud83d\udc49"}),Object(h.jsxs)("div",{className:"pageFooter",children:[" Page: ",w]})]})]})};s.a.render(Object(h.jsx)(p,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e6506a73.chunk.js.map