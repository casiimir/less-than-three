{"version":3,"sources":["components/Header.js","components/Search.js","components/Loader.js","components/Footer.js","components/Main.js","components/SplashScreen.js","App.js","index.js"],"names":["Header","Search","populateGameItem","useState","gameList","setGameList","getDataGamesFrom","a","submit","document","querySelector","fetch","value","result","json","data","className","onSubmit","e","preventDefault","type","name","id","placeholder","Loader","Footer","pageNumber","Main","storeList","setStoreList","runSearch","setRunSeach","setPageNumber","loadingScreen","setLoadingScreen","lowerPrice","upperPrice","useEffect","getDeals","getStoreIDs","filter","v","i","findIndex","t","title","returnStoreImgBy","storeID","store","images","icon","list","map","game","external","length","substring","href","dealID","cheapestDealID","src","thumb","alt","normalPrice","salePrice","cheapest","onClick","searchExpanderBtn","textContent","setTimeout","window","scrollTo","SplashScreen","style","opacity","zIndex","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.653a1781.chunk.js","sourcesContent":["function Header() {\r\n  return (    \r\n    <header>\r\n      <h3>Less Than</h3>\r\n      <h2>3</h2>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React, { useState } from 'react';\r\nimport './Search.css';\r\n\r\nfunction Search({ populateGameItem }) {\r\n\r\n  const [gameList, setGameList] = useState([]);\r\n\r\n  const getDataGamesFrom = async() => {\r\n    const submit = document.querySelector('#searchInput');\r\n\r\n    const result = await fetch(`https://www.cheapshark.com/api/1.0/games?title=${submit.value}`)\r\n    const data = await result.json();\r\n\r\n    setGameList(data);\r\n  }\r\n\r\n  const clearInputField = () => {\r\n    const searchInput = document.querySelector('#searchInput');\r\n\r\n    searchInput.value = '';\r\n  }\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    getDataGamesFrom(gameList);\r\n    clearInputField();\r\n  }\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <form onSubmit={ onFormSubmit }>        \r\n        <input type=\"search\" name=\"\" id=\"searchInput\" placeholder=\"Title ...\" />\r\n        <button type=\"submit\"> Find it! </button>\r\n      </form>\r\n\r\n      <ul className=\"gameList\">\r\n        { populateGameItem(gameList) } \r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import './Loader.css';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <div className=\"loader__anim\">\r\n        <h2>LOADING...</h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader;","function Footer({ pageNumber }) {\r\n  return (\r\n    <div className=\"pageFooter\">\r\n      <p className=\"pageFooter--text\">Less Than <em>3</em>, by Casiimir. &copy; 2021</p>\r\n      <div className=\"pageFooter--status\">\r\n        <p>Page:</p>\r\n        <p> { pageNumber }</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React, { useState, useEffect } from 'react';\r\nimport Search from './Search';\r\nimport Loader from './Loader';\r\nimport Footer from './Footer';\r\n\r\nconst rmDuplicateGame = (list) => list.filter((v,i,a)=>a.findIndex(t=>(t.title === v.title))===i);\r\n\r\nfunction Main() {\r\n    // STATE\r\n    const [gameList, setGameList] = useState('');\r\n    const [storeList, setStoreList] = useState('');\r\n    const [runSearch, setRunSeach] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const [loadingScreen, setLoadingScreen] = useState(false);\r\n    // range price in fetch call\r\n    const [lowerPrice, setLowerPrice] = useState(0);\r\n    const [upperPrice, setUpperPrice] = useState(3);\r\n   \r\n    useEffect(() => {\r\n      getDeals();\r\n      getStoreIDs();\r\n      \r\n      setPageNumber(1)\r\n    }, []);\r\n\r\n  // FETCH & co.\r\n  const getDeals = async() => {\r\n    const result = await fetch(`https://www.cheapshark.com/api/1.0/deals?&sortBy=deal+rating&onSale=1&lowerPrice=${lowerPrice}&upperPrice=${upperPrice}&metacritic=60&onSale=1&pageNumber=${pageNumber}`);\r\n    const data = await result.json();\r\n\r\n    setGameList(rmDuplicateGame(data));\r\n  }\r\n\r\n  const getStoreIDs = async() => {\r\n    const result = await fetch(`https://www.cheapshark.com/api/1.0/stores`);\r\n    const data = await result.json();\r\n\r\n    setStoreList(data);\r\n  }\r\n\r\n  const returnStoreImgBy = (storeID) => {\r\n    for (let store of storeList) {\r\n      if(storeID === store.storeID) {\r\n        return store.images.icon;\r\n      }\r\n    }\r\n  }\r\n\r\n  // UTILS\r\n  const btnSearchShow = () => {\r\n    const searchExpanderBtn = document.querySelector('.searchExpanderBtn');\r\n    \r\n    if (searchExpanderBtn.textContent === 'üè†') {\r\n      searchExpanderBtn.textContent = 'üîç';\r\n    } else {\r\n      searchExpanderBtn.textContent = 'üè†';\r\n    }\r\n\r\n    runSearch ? setRunSeach(false) : setRunSeach(true);\r\n  }\r\n\r\n  const pageLeftBtn = () => {\r\n    if (pageNumber > 1) {\r\n      setLoadingScreen(true);\r\n      getDeals();\r\n\r\n      setTimeout(() => {\r\n        setPageNumber(pageNumber - 1);\r\n        setLoadingScreen(false);\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  const pageRightBtn = () => {\r\n    if (pageNumber < 7) {\r\n      setLoadingScreen(true);\r\n      getDeals();\r\n\r\n      setTimeout(() => {\r\n        window.scrollTo(0,0);        \r\n        setPageNumber(pageNumber + 1);\r\n        setLoadingScreen(false);\r\n      }, 500);\r\n    }\r\n  }\r\n  \r\n  // FORMAT GAME-ITEM\r\n  const setReSizeGameTitle = (title) => title.length <= 18 ? title : title.substring(0, 13) + '...';\r\n\r\n  const populateGameItem = (list) => {\r\n    return list.map((game, i) =>\r\n      <li key={ i } className=\"gameList__item\">\r\n        <div className=\"gameList__item--naming\">\r\n          <h3>{ setReSizeGameTitle(game.title || game.external) }</h3>\r\n          <a href={ `https://www.cheapshark.com/redirect?dealID=${game.dealID || game.cheapestDealID}` }>\r\n            <img src ={ game.thumb } alt={ game.title || game.external }/>\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"gameList__item--anim\">\r\n          <div className=\"shape\">\r\n            <img src={ `https://www.cheapshark.com/${ returnStoreImgBy(game.storeID) || '/img/stores/icons/26.png' }`  }\r\n                 alt={ game.title || game.external }/>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"gameList__item--info\">\r\n          <p className=\"ex--price\">{ game.normalPrice || 'tot' }</p>\r\n          <p className=\"actual--price\">{ game.salePrice || game.cheapest }</p>\r\n          <a href={ `https://www.cheapshark.com/redirect?dealID=${game.dealID || game.cheapestDealID}` }>buy it!</a>\r\n        </div>\r\n      </li>\r\n    );\r\n  } \r\n  \r\n  return (\r\n    <>\r\n      <button className=\"searchExpanderBtn\" onClick={ btnSearchShow }>üîç</button>\r\n      \r\n      {\r\n        runSearch ? <Search populateGameItem={ populateGameItem }/> : \r\n        <>\r\n          { \r\n            (!loadingScreen) ?\r\n            <button className=\"navButtonLeft\" onClick={ pageLeftBtn }> { '<' } </button> :\r\n            <Loader />\r\n          }\r\n          <ul className=\"gameList\">\r\n            { gameList ? populateGameItem(gameList) : null }\r\n          </ul>\r\n          { \r\n            (!loadingScreen) ?\r\n            <button className=\"navButtonRight\" onClick={ pageRightBtn }> { '>' } </button> :\r\n            <Loader />\r\n          }\r\n        </>\r\n      }      \r\n      <Footer pageNumber={ pageNumber }/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main;","import './SplashScreen.css';\r\n\r\nfunction SplashScreen() {\r\n  function offSplashScreen() {\r\n    document.querySelector('.SplashScreen').style.opacity = 0;\r\n    document.querySelector('.SplashScreen').style.zIndex = 0;\r\n  }\r\n\r\n  return (\r\n    <div className=\"SplashScreen\">\r\n      <h1>SplashScreen!</h1>\r\n      <button onClick={ offSplashScreen }>Load it...</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SplashScreen;\r\n","import './App.css';\r\nimport Header from './components/Header';\r\nimport Main from './components/Main';\r\nimport SplashScreen from './components/SplashScreen';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <SplashScreen />\r\n      <Header />\r\n      <Main />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}