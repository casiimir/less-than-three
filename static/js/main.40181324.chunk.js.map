{"version":3,"sources":["Search.js","App.js","index.js"],"names":["Search","populateGameItem","useState","gameList","setGameList","getDataGamesFrom","a","submit","document","querySelector","fetch","value","result","json","data","className","onSubmit","e","preventDefault","type","name","id","placeholder","App","runSearch","setRunSeach","useEffect","filter","v","i","findIndex","t","title","getDeals","list","map","game","console","log","external","length","substring","src","thumb","alt","style","background","Math","floor","random","toString","normalPrice","salePrice","cheapest","href","dealID","cheapestDealID","onClick","searchExpanderBtn","textContent","ReactDOM","render","getElementById"],"mappings":"yQA2CeA,MAxCf,YAAuC,IAArBC,EAAoB,EAApBA,iBAAoB,EAEJC,mBAAS,IAFL,mBAE7BC,EAF6B,KAEnBC,EAFmB,KAI9BC,EAAgB,uCAAG,gCAAAC,EAAA,6DACjBC,EAASC,SAASC,cAAc,gBADf,SAGFC,MAAM,kDAAD,OAAmDH,EAAOI,QAH7D,cAGjBC,EAHiB,gBAIJA,EAAOC,OAJH,OAIjBC,EAJiB,OAMvBV,EAAYU,GANW,2CAAH,qDAsBtB,OACE,sBAAKC,UAAU,SAAf,UACE,uBAAMC,SATW,SAACC,GACpBA,EAAEC,iBAEFb,EAAiBF,GARGK,SAASC,cAAc,gBAE/BE,MAAQ,IAYlB,UACE,uBAAOQ,KAAK,SAASC,KAAK,GAAGC,GAAG,cAAcC,YAAY,cAC1D,wBAAQH,KAAK,SAAb,2BAGF,oBAAIJ,UAAU,WAAd,SACId,EAAiBE,SCsCZoB,MArEf,WAAgB,IAAD,EAEmBrB,mBAAS,IAF5B,mBAENC,EAFM,KAEIC,EAFJ,OAGoBF,oBAAS,GAH7B,mBAGNsB,EAHM,KAGKC,EAHL,KAMbC,qBAAU,YACM,uCAAG,8BAAApB,EAAA,sEACMI,MAAM,6GADZ,cACTE,EADS,gBAEIA,EAAOC,OAFX,OAETC,EAFS,OAGfV,EAA4BU,EAZKa,QAAO,SAACC,EAAEC,EAAEvB,GAAL,OAASA,EAAEwB,WAAU,SAAAC,GAAC,OAAGA,EAAEC,QAAUJ,EAAEI,WAAUH,MAS1E,2CAAH,qDAKdI,KACC,IAIH,IAIMhC,EAAmB,SAACiC,GAExB,OAAOA,EAAKC,KAAI,SAACC,EAAMP,GAAP,OACd,qBAAcd,UAAU,iBAAxB,UACGsB,QAAQC,IAAIF,GACb,sBAAKrB,UAAU,yBAAf,UACE,8BAVoBiB,EAUKI,EAAKJ,OAASI,EAAKG,SAVdP,EAAMQ,QAAU,GAAKR,EAAQA,EAAMS,UAAU,EAAG,IAAM,SAWpF,qBAAKC,IAAMN,EAAKO,MAAQC,IAAMR,EAAKJ,OAASI,EAAKG,cAGnD,qBAAKxB,UAAU,uBAAf,SACE,qBAAKA,UAAU,QAAQ8B,MAAO,CAACC,WAbT,IAAMC,KAAKC,MAAoB,SAAdD,KAAKE,UAAmBC,SAAS,SAgB1E,sBAAKnC,UAAU,uBAAf,UACE,mBAAGA,UAAU,YAAb,SAA2BqB,EAAKe,aAAe,QAC/C,mBAAGpC,UAAU,gBAAb,SAA+BqB,EAAKgB,WAAahB,EAAKiB,WACtD,mBAAGC,KAAI,qDAAiDlB,EAAKmB,QAAUnB,EAAKoB,gBAA5E,0BAdM3B,GAPa,IAACG,MAuC5B,OACE,sBAAKjB,UAAU,MAAf,UACE,wBAAQA,UAAU,oBAAoB0C,QAdpB,WACpB,IAAMC,EAAoBlD,SAASC,cAAc,sBAEX,iBAAlCiD,EAAkBC,YACpBD,EAAkBC,YAAc,eAEhCD,EAAkBC,YAAc,eAGtBlC,GAAZD,IAKE,0BAEEA,EAAY,cAAC,EAAD,CAAQvB,iBAAmBA,IACvC,oBAAIc,UAAU,WAAd,SACIZ,EAAWF,EAAiBE,GAAY,WC9DpDyD,IAASC,OACP,cAAC,EAAD,IACArD,SAASsD,eAAe,W","file":"static/js/main.40181324.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport './Search.css';\r\n\r\nfunction Search({ populateGameItem }) {\r\n\r\n  const [gameList, setGameList] = useState([]);\r\n\r\n  const getDataGamesFrom = async() => {\r\n    const submit = document.querySelector('#searchInput');\r\n\r\n    const result = await fetch(`https://www.cheapshark.com/api/1.0/games?title=${submit.value}`)\r\n    const data = await result.json();\r\n\r\n    setGameList(data);\r\n  }\r\n\r\n  const clearInputField = () => {\r\n    const searchInput = document.querySelector('#searchInput');\r\n\r\n    searchInput.value = '';\r\n  }\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    getDataGamesFrom(gameList);\r\n    clearInputField();\r\n  }\r\n\r\n  return (\r\n    <div className=\"Search\">\r\n      <form onSubmit={ onFormSubmit }>        \r\n        <input type=\"search\" name=\"\" id=\"searchInput\" placeholder=\"Title ...\" />\r\n        <button type=\"submit\"> Find it! </button>\r\n      </form>\r\n\r\n      <ul className=\"gameList\">\r\n        { populateGameItem(gameList) } \r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Search from './Search';\n\nconst rmDuplicateGame = (list) => list.filter((v,i,a)=>a.findIndex(t=>(t.title === v.title))===i);\n\nfunction App() {\n\n  const [gameList, setGameList] = useState('');\n  const [runSearch, setRunSeach] = useState(false);\n\n\n  useEffect(() => {\n    const getDeals = async() => {\n      const result = await fetch('https://www.cheapshark.com/api/1.0/deals?&sortBy=deal+rating&onSale=1&upperPrice=3&metacritic=60&onSale=1');\n      const data = await result.json();\n      setGameList(rmDuplicateGame(data));\n    }\n    getDeals();\n  }, []);\n\n  // utility: check if TOT savings is than 70%\n  // const getListBySaving = (list) => list.filter((game) => game.savings >= 80);\n  const setReSizeGameTitle = (title) => title.length <= 18 ? title : title.substring(0, 13) + '...';\n\n  const setRandomColour = () => '#' + Math.floor(Math.random()*12914665).toString(16);\n\n  const populateGameItem = (list) => {\n    \n    return list.map((game, i) =>\n      <li key={ i } className=\"gameList__item\">\n        {console.log(game)}\n        <div className=\"gameList__item--naming\">\n          <h3>{ setReSizeGameTitle(game.title || game.external) }</h3>\n          <img src={ game.thumb } alt={ game.title || game.external }/>\n        </div>\n\n        <div className=\"gameList__item--anim\">\n          <div className=\"shape\" style={{background: setRandomColour()}}></div>\n        </div>\n\n        <div className=\"gameList__item--info\">\n          <p className=\"ex--price\">{ game.normalPrice || 'tot' }</p>\n          <p className=\"actual--price\">{ game.salePrice || game.cheapest }</p>\n          <a href={ `https://www.cheapshark.com/redirect?dealID=${game.dealID || game.cheapestDealID}` }>buy it!</a>\n        </div>\n      </li>\n    );\n  } \n\n  const btnSearchShow = () => {\n    const searchExpanderBtn = document.querySelector('.searchExpanderBtn');\n    \n    if (searchExpanderBtn.textContent === 'üè†') {\n      searchExpanderBtn.textContent = 'üîç';\n    } else {\n      searchExpanderBtn.textContent = 'üè†';\n    }\n\n    runSearch ? setRunSeach(false) : setRunSeach(true);\n  }\n\n  return (\n    <div className=\"App\">\n      <button className=\"searchExpanderBtn\" onClick={ btnSearchShow }>üîç</button>\n      {\n        runSearch ? <Search populateGameItem={ populateGameItem }/> : \n        <ul className=\"gameList\">\n          { gameList ? populateGameItem(gameList) : null }\n        </ul>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}